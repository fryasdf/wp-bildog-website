@import 'variables';

$above_nav_margin: 58px;
// distance from a TOP LEVEL ('bildog', 'Projekte', ...) 
// entry that has a sublist to the sublist
// in the navigation bar
// (i.e. the space below 'bildog' to its first entry 'Ziele')
$navbar_sublist_padding: 20px;

// thickness of the contour oval around the entries in the 
// navigation bar
// i.e. the border in
// /--------\  <---- thickness
// | bildog |
// \--------/
$radius_thickness: 2px;


.active-navigation-element {
  background-color: $orange !important;
  color: white !important;
}

div.nav {

  & > ul {

    @media only screen and (min-width: 780px) {
      & > li:last-child {
        margin-top: $above_nav_margin + 36px;
      }

      & > li {
        margin-top: $above_nav_margin;
      }
    }

    & > li {
      margin-bottom: 30px;

      &.page_item {

        @media only screen and (min-width: 780px) {
          &:last-child a {
            padding-top: 200px;
          }
        }

        & > a {
          border: $radius_thickness solid $orange;
          border-radius: 20px;
          padding: 5px 20px 5px 20px;
          color: $orange;
          margin-top: 5px;
          margin-right: 5px;

          &:focus, &:hover,  {
            @extend .active-navigation-element;
          }
        }
      }

      &:hover {
        &.page_item_has_children {
          & > a {
            // if one hovers over an entry in the TOP LEVEL in 
            // the navigation bar AND this entry has subentries then
            // ...
            // make round edges at the top and normal edges at the bottom
            border-top-left-radius:20px;
            border-top-right-radius:20px;
            border-bottom-right-radius:0px;
            border-bottom-left-radius:0px;
            // and give a little extra padding at the bottom
            padding-bottom: $navbar_sublist_padding;
            padding-top: 5px;
            padding-right: 20px;
            padding-left: 20px;

            background-color: $orange;
            color: white;
          }
        }
      }

      &.current_page_item > a {
        @extend .active-navigation-element
      }

      &.page_item_has_children {

        & > ul.children {
          background-color: $orange;
          display: none;
          z-index: 99999;
        }

        &:hover > ul.children, &.open > ul.children {
          // if we removed this -5px then it would be difficult to select an entry from a 
          // sublist of the navbar because before the mouse went over the sublist,
          // the top entry would have lost the focus again causing the sublist to 
          // close prematurely!
          margin-top: $navbar_sublist_padding - 5px;
          display: block;
          position: absolute;

          li {

            &:hover {
              background-color: white;

              a {
                color: $orange;
              }
            }

            a {
              padding-left: 5px;
              padding-right: 5px;
              border: 0;
              color: white;
              display:block;
              width: 100%;
            }

          }
        }
      }
    }
  }
}
